import{S as P,T as I}from"./Header-a849e12e.js";import{_ as v,k as C,r as x,d as o,o as g,c as b,e as t,f as c,m as $,a as n}from"./index-c39ef441.js";const w={__name:"PaperTable",setup(h){const i=C(),l=x({ReportId:""}),u=x({border:!0,maxHeight:650,rowConfig:{keyField:"id"},columnConfig:{resizable:!0},checkboxConfig:{reserve:!0},pagerConfig:{enabled:!0},exportConfig:{},columns:[{field:"ReportDate",title:"檢舉日期"},{field:"ReportId",title:"檢舉者會員編號"},{field:"MemberId",title:"被檢舉者會員編號"},{field:"ReportEmail",title:"電子信箱"},{field:"PostDate",title:"貼文張貼日期"},{title:"動作",slots:{default:"action"}}],toolbarConfig:{slots:{tools:"toolbar_tools"},export:{icon:"vxe-icon-cloud-download"},zoom:{iconIn:"vxe-icon-fullscreen",iconOut:"vxe-icon-minimize"},refresh:{icon:"vxe-icon-refresh",iconLoading:"vxe-icon-refresh roll"}},proxyConfig:{seq:!0,props:{result:"result",total:"page.total"},ajax:{query:async({page:e})=>{console.log("currentPage:",e.currentPage),console.log("pageSize:",e.pageSize),await new Promise(_=>setTimeout(_,10));const s=await(await fetch(`PHP/index.php?currentPage=${e.currentPage}&pageSize=${e.pageSize}`)).json(),d=s.result,a=s.page.totalPages;return{result:d,page:{total:a}}}}}}),m=()=>{const e=i.value;e&&(console.log(e),e.commitProxy("query"))},f=()=>{const e=i.value;e&&e.commitProxy("reload")};return(e,r)=>{const s=o("vxe-input"),d=o("vxe-form-item"),a=o("vxe-button"),_=o("vxe-form"),y=o("vxe-grid");return g(),b("div",null,[t(y,$({ref_key:"xGrid",ref:i},u),{toolbar_tools:c(()=>[t(_,{data:l},{default:c(()=>[t(d,{field:"ReportId",onSubmit:m,onReset:f},{default:c(()=>[t(s,{modelValue:l.ReportId,"onUpdate:modelValue":r[0]||(r[0]=p=>l.ReportId=p),type:"text",placeholder:"請輸入檢舉者會員編號"},null,8,["modelValue"])]),_:1}),t(d,null,{default:c(()=>[t(a,{type:"submit",status:"primary",content:"查詢"}),t(a,{type:"reset",content:"重置"})]),_:1})]),_:1},8,["data"])]),action:c(({row:p})=>[t(a,{type:"text",icon:"vxe-icon-warnion-circle-fill",content:"下架",disabled:p.Info==!0},null,8,["disabled"]),t(a,{type:"text",icon:"vxe-icon-check",status:"primary",content:"復原",disabled:p.Info==!1},null,8,["disabled"])]),_:1},16)])}}},R=v(w,[["__scopeId","data-v-2604c639"]]),k={components:{Sidebar:P,Top:I,PaperTable:R},data(){return{}}},z={class:"thispage"},S={class:"container mt-4"},T=n("h2",null,"貼文管理",-1),V={class:"card mt-4 shadow-lg"},E=n("div",{class:"card-header"},[n("h5",null,"貼文列表")],-1),q={class:"card-body"};function B(h,i,l,u,m,f){const e=o("sidebar"),r=o("top"),s=o("paper-table");return g(),b("div",z,[t(e),n("div",null,[t(r),n("div",S,[T,n("div",V,[E,n("div",q,[t(s)])])])])])}const G=v(k,[["render",B]]);export{G as default};
